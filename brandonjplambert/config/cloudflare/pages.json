{
  "$schema": "https://developers.cloudflare.com/pages/platform/build-configuration/",
  "build": {
    "command": "npm run build",
    "destination": "build",
    "root_dir": ".",
    "env_vars": {
      "NODE_VERSION": "18",
      "NPM_VERSION": "9"
    }
  },
  "preview": {
    "command": "npm run build",
    "destination": "build"
  },
  "compatibility_flags": [
    "nodejs_compat"
  ],
  "deployment": {
    "strategy": "git",
    "auto_deploy": {
      "production": "main",
      "preview": "develop"
    }
  },
  "functions": {
    "node_compat": true,
    "compatibility_date": "2024-08-29"
  },
  "routes": {
    "include": ["/*"],
    "exclude": [
      "/api/admin/*",
      "/_app/*"
    ]
  },
  "headers": {
    "/*": {
      "X-Frame-Options": "DENY",
      "X-Content-Type-Options": "nosniff",
      "Referrer-Policy": "strict-origin-when-cross-origin",
      "Permissions-Policy": "camera=(), microphone=(), geolocation=()"
    },
    "/assets/*": {
      "Cache-Control": "public, max-age=31536000, immutable"
    },
    "/*.css": {
      "Cache-Control": "public, max-age=31536000, immutable"
    },
    "/*.js": {
      "Cache-Control": "public, max-age=31536000, immutable"
    },
    "/*.woff2": {
      "Cache-Control": "public, max-age=31536000, immutable"
    }
  },
  "redirects": {
    "/old-page": "/new-page"
  },
  "custom_domains": [
    {
      "domain": "yourdomain.com",
      "ssl": true,
      "always_use_https": true
    }
  ]
}