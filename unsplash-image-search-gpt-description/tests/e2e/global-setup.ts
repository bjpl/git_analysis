import { chromium, FullConfig } from '@playwright/test';\n\nasync function globalSetup(config: FullConfig) {\n  const { baseURL } = config.projects[0].use;\n  \n  // Launch browser for global setup tasks\n  const browser = await chromium.launch();\n  const context = await browser.newContext();\n  const page = await context.newPage();\n\n  try {\n    // Wait for the application to be ready\n    console.log(`üöÄ Waiting for application at ${baseURL} to be ready...`);\n    \n    // Try to navigate to the base URL\n    await page.goto(baseURL || 'http://localhost:3000', {\n      waitUntil: 'networkidle',\n      timeout: 60000,\n    });\n\n    // Wait for the main app to load\n    await page.waitForSelector('[data-testid=\"app-loaded\"]', { \n      timeout: 30000,\n      state: 'visible'\n    });\n\n    console.log('‚úÖ Application is ready for testing');\n    \n    // Set up test environment variables\n    process.env.E2E_TEST_MODE = 'true';\n    process.env.VITE_SUPABASE_URL = 'https://test.supabase.co';\n    process.env.VITE_SUPABASE_ANON_KEY = 'test-anon-key';\n    process.env.VITE_UNSPLASH_ACCESS_KEY = 'test-unsplash-key';\n    \n  } catch (error) {\n    console.error('‚ùå Failed to setup test environment:', error);\n    throw error;\n  } finally {\n    await context.close();\n    await browser.close();\n  }\n}\n\nexport default globalSetup;"