<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viewing Distance Calculator</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2d3748;
            margin-bottom: 30px;
            text-align: center;
        }
        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        .input-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #4299e1;
        }
        .results {
            background: #ebf8ff;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 5px solid #4299e1;
        }
        .result-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .result-card:last-child {
            margin-bottom: 0;
        }
        .result-title {
            font-size: 18px;
            font-weight: bold;
            color: #2b6cb0;
            margin-bottom: 10px;
        }
        .result-value {
            font-size: 24px;
            font-weight: bold;
            color: #1a365d;
            margin-bottom: 5px;
        }
        .result-description {
            color: #4a5568;
            font-size: 14px;
        }
        .visual-guide {
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        .distance-visual {
            position: relative;
            height: 150px;
            background: linear-gradient(to right, #e2e8f0 0%, #cbd5e0 50%, #e2e8f0 100%);
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
        }
        .person-icon {
            width: 40px;
            height: 60px;
            background: #4299e1;
            border-radius: 20px 20px 40px 40px;
            position: relative;
        }
        .person-icon::before {
            content: '';
            width: 20px;
            height: 20px;
            background: #4299e1;
            border-radius: 50%;
            position: absolute;
            top: -25px;
            left: 10px;
        }
        .screen-icon {
            width: 60px;
            height: 40px;
            background: #2d3748;
            border-radius: 4px;
            border: 2px solid #4a5568;
        }
        .distance-line {
            flex: 1;
            height: 2px;
            background: #e53e3e;
            margin: 0 20px;
            position: relative;
        }
        .distance-label {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            color: #e53e3e;
        }
        .recommendations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .rec-card {
            background: #f0fff4;
            border: 2px solid #68d391;
            border-radius: 8px;
            padding: 15px;
        }
        .rec-card.warning {
            background: #fffaf0;
            border-color: #f6ad55;
        }
        .rec-card.danger {
            background: #fed7d7;
            border-color: #fc8181;
        }
        .rec-title {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 8px;
        }
        .info-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        .tab {
            padding: 12px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #4a5568;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        .tab.active {
            color: #2b6cb0;
            border-bottom-color: #4299e1;
            font-weight: bold;
        }
        .tab-content {
            display: none;
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
        }
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Optimal Viewing Distance Calculator</h1>
        
        <div class="input-grid">
            <div>
                <div class="input-group">
                    <label for="screenSize">Screen Size (inches):</label>
                    <input type="number" id="screenSize" value="27" min="1" step="0.1">
                </div>
                
                <div class="input-group">
                    <label for="resolution">Resolution:</label>
                    <select id="resolution">
                        <option value="1920x1080">1920×1080 (Full HD)</option>
                        <option value="2560x1440" selected>2560×1440 (QHD)</option>
                        <option value="3840x2160">3840×2160 (4K UHD)</option>
                        <option value="5120x2880">5120×2880 (5K)</option>
                        <option value="7680x4320">7680×4320 (8K)</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                
                <div class="input-group" id="customResGroup" style="display: none;">
                    <label>Custom Resolution:</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="number" id="customWidth" placeholder="Width" min="1">
                        <span style="align-self: center;">×</span>
                        <input type="number" id="customHeight" placeholder="Height" min="1">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="useCase">Primary Use Case:</label>
                    <select id="useCase">
                        <option value="general">General Computing</option>
                        <option value="gaming">Gaming</option>
                        <option value="photo">Photo Editing</option>
                        <option value="video">Video Editing</option>
                        <option value="cad">CAD/Design</option>
                        <option value="tv">TV/Movies</option>
                        <option value="presentation">Presentation</option>
                    </select>
                </div>
            </div>
            
            <div>
                <div class="input-group">
                    <label for="eyeCondition">Vision Condition:</label>
                    <select id="eyeCondition">
                        <option value="normal">Normal Vision (20/20)</option>
                        <option value="slight">Slight Impairment (20/30)</option>
                        <option value="moderate">Moderate Impairment (20/40)</option>
                        <option value="reading">Reading Glasses User</option>
                        <option value="presbyopia">Presbyopia (40+ years)</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="ambientLight">Ambient Light Level:</label>
                    <select id="ambientLight">
                        <option value="dim">Dim (< 50 lux)</option>
                        <option value="normal" selected>Normal (50-200 lux)</option>
                        <option value="bright">Bright (200-500 lux)</option>
                        <option value="very-bright">Very Bright (> 500 lux)</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="sessionDuration">Session Duration:</label>
                    <select id="sessionDuration">
                        <option value="short">Short (< 1 hour)</option>
                        <option value="medium" selected>Medium (1-4 hours)</option>
                        <option value="long">Long (4-8 hours)</option>
                        <option value="extended">Extended (8+ hours)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="results" id="results">
            <!-- Results will be populated by JavaScript -->
        </div>
        
        <div class="visual-guide">
            <h3>Visual Distance Guide</h3>
            <div class="distance-visual">
                <div class="person-icon"></div>
                <div class="distance-line">
                    <div class="distance-label" id="distanceLabel">75 cm</div>
                </div>
                <div class="screen-icon"></div>
            </div>
        </div>
        
        <div class="info-tabs">
            <button class="tab active" onclick="showTab('science')">Science</button>
            <button class="tab" onclick="showTab('health')">Health</button>
            <button class="tab" onclick="showTab('productivity')">Productivity</button>
            <button class="tab" onclick="showTab('standards')">Standards</button>
        </div>
        
        <div id="science" class="tab-content active">
            <h3>The Science Behind Viewing Distance</h3>
            <p><strong>Angular Resolution:</strong> The human eye can resolve details at approximately 1 arcminute (1/60 degree) under optimal conditions. This translates to different pixel visibility distances based on screen resolution.</p>
            <p><strong>PPI (Pixels Per Inch):</strong> Higher PPI displays can be viewed from closer distances while maintaining sharp image quality. The relationship is: Optimal Distance = (Screen Height × 1.5) for comfortable viewing without eye strain.</p>
            <p><strong>Field of View:</strong> For immersive experiences, the display should occupy 30-40 degrees of your horizontal field of view. For productivity, 20-30 degrees is optimal to see the entire screen without head movement.</p>
        </div>
        
        <div id="health" class="tab-content">
            <h3>Health Considerations</h3>
            <p><strong>Eye Strain:</strong> Viewing screens too closely can cause digital eye strain, characterized by dry eyes, blurred vision, and headaches. The 20-20-20 rule helps: every 20 minutes, look at something 20 feet away for 20 seconds.</p>
            <p><strong>Posture:</strong> Proper viewing distance helps maintain good posture. The screen should be at arm's length with the top of the screen at or below eye level.</p>
            <p><strong>Blue Light:</strong> Closer viewing increases blue light exposure. Consider blue light filters for extended viewing sessions, especially in dim environments.</p>
            <p><strong>Accommodation:</strong> Your eyes constantly refocus when viewing screens. Proper distance reduces accommodation stress, particularly important for presbyopia sufferers.</p>
        </div>
        
        <div id="productivity" class="tab-content">
            <h3>Productivity Optimization</h3>
            <p><strong>Multi-Monitor Setup:</strong> For multiple displays, maintain consistent viewing distances and angles. The primary monitor should be directly in front, with secondary monitors at 20-30 degree angles.</p>
            <p><strong>Text Size:</strong> At optimal viewing distance, text should appear 3-4mm tall (equivalent to 12-14pt font at standard DPI). Adjust font size or distance accordingly.</p>
            <p><strong>Workspace Layout:</strong> Position frequently used items within easy reach without breaking viewing posture. Document holders should be at the same distance as the screen.</p>
            <p><strong>Lighting:</strong> Ambient lighting should be about half the screen brightness. Position light sources to avoid reflections on the screen.</p>
        </div>
        
        <div id="standards" class="tab-content">
            <h3>Industry Standards</h3>
            <p><strong>ISO 9241-303:</strong> International standard for visual display requirements. Recommends viewing distances of 50-70cm for desktop displays.</p>
            <p><strong>OSHA Guidelines:</strong> Workplace safety standards suggest arm's length (approximately 60cm) as minimum viewing distance for computer displays.</p>
            <p><strong>THX Viewing Angle:</strong> For home theater, THX recommends a 40-degree viewing angle, which translates to sitting 1.2 times the screen width away.</p>
            <p><strong>SMPTE Standards:</strong> Professional video editing standards recommend viewing distances of 1.5-2 times screen height for accurate color grading.</p>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        function calculateDistance() {
            const screenSize = parseFloat(document.getElementById('screenSize').value) || 27;
            const resolution = document.getElementById('resolution').value;
            const useCase = document.getElementById('useCase').value;
            const eyeCondition = document.getElementById('eyeCondition').value;
            const ambientLight = document.getElementById('ambientLight').value;
            const sessionDuration = document.getElementById('sessionDuration').value;
            
            let width, height;\n            \n            if (resolution === 'custom') {\n                width = parseInt(document.getElementById('customWidth').value) || 1920;\n                height = parseInt(document.getElementById('customHeight').value) || 1080;\n            } else {\n                [width, height] = resolution.split('x').map(Number);\n            }\n            \n            // Calculate PPI\n            const diagonalPixels = Math.sqrt(width * width + height * height);\n            const ppi = diagonalPixels / screenSize;\n            \n            // Base optimal distance calculations\n            const pixelVisibilityDistance = (screenSize * 25.4) / (ppi * Math.tan(1 * Math.PI / 180 / 60)); // 1 arcminute\n            const comfortDistance = screenSize * 2.54 * 1.5; // 1.5 times screen height rule\n            const fieldOfViewDistance = screenSize * 2.54 * 2.5; // 30-degree FOV\n            \n            // Adjustments based on use case\n            let useCaseMultiplier = 1;\n            let useCaseDescription = '';\n            \n            switch(useCase) {\n                case 'gaming':\n                    useCaseMultiplier = 0.8; // Closer for immersion\n                    useCaseDescription = 'Gaming benefits from closer viewing for immersion';\n                    break;\n                case 'photo':\n                case 'video':\n                    useCaseMultiplier = 1.2; // Further for accuracy\n                    useCaseDescription = 'Creative work requires distance for accurate assessment';\n                    break;\n                case 'cad':\n                    useCaseMultiplier = 0.9; // Closer for detail work\n                    useCaseDescription = 'CAD work requires closer viewing for fine details';\n                    break;\n                case 'tv':\n                    useCaseMultiplier = 1.5; // Much further for relaxed viewing\n                    useCaseDescription = 'TV viewing optimized for relaxation and comfort';\n                    break;\n                case 'presentation':\n                    useCaseMultiplier = 2; // Further for audience viewing\n                    useCaseDescription = 'Presentation viewing considers audience distance';\n                    break;\n                default:\n                    useCaseDescription = 'General computing balance of comfort and productivity';\n            }\n            \n            // Adjustments for eye condition\n            let eyeMultiplier = 1;\n            switch(eyeCondition) {\n                case 'slight':\n                    eyeMultiplier = 1.1;\n                    break;\n                case 'moderate':\n                    eyeMultiplier = 1.2;\n                    break;\n                case 'reading':\n                case 'presbyopia':\n                    eyeMultiplier = 1.3;\n                    break;\n            }\n            \n            // Calculate final distances\n            const optimalDistance = Math.max(pixelVisibilityDistance, comfortDistance * useCaseMultiplier * eyeMultiplier);\n            const minDistance = optimalDistance * 0.8;\n            const maxDistance = optimalDistance * 1.3;\n            \n            // Convert to different units\n            const optimalCM = Math.round(optimalDistance);\n            const optimalInches = Math.round(optimalDistance / 2.54);\n            const optimalFeet = (optimalDistance / 30.48).toFixed(1);\n            \n            // Update distance label\n            document.getElementById('distanceLabel').textContent = `${optimalCM} cm`;\n            \n            // Generate recommendations\n            const recommendations = generateRecommendations(optimalDistance, ppi, useCase, sessionDuration, ambientLight);\n            \n            // Display results\n            document.getElementById('results').innerHTML = `\n                <div class=\"result-card\">\n                    <div class=\"result-title\">Optimal Viewing Distance</div>\n                    <div class=\"result-value\">${optimalCM} cm (${optimalInches}\", ${optimalFeet} ft)</div>\n                    <div class=\"result-description\">Best balance of comfort and image quality for your setup</div>\n                </div>\n                \n                <div class=\"result-card\">\n                    <div class=\"result-title\">Acceptable Range</div>\n                    <div class=\"result-value\">${Math.round(minDistance)} - ${Math.round(maxDistance)} cm</div>\n                    <div class=\"result-description\">Minimum and maximum distances for comfortable viewing</div>\n                </div>\n                \n                <div class=\"result-card\">\n                    <div class=\"result-title\">Display Information</div>\n                    <div class=\"result-value\">${ppi.toFixed(0)} PPI</div>\n                    <div class=\"result-description\">${width}×${height} resolution on ${screenSize}\" display</div>\n                </div>\n                \n                <div class=\"recommendations\">\n                    ${recommendations.map(rec => `\n                        <div class=\"rec-card ${rec.type}\">\n                            <div class=\"rec-title\">${rec.title}</div>\n                            <div>${rec.description}</div>\n                        </div>\n                    `).join('')}\n                </div>\n            `;\n        }\n        \n        function generateRecommendations(distance, ppi, useCase, duration, light) {\n            const recommendations = [];\n            \n            // PPI-based recommendations\n            if (ppi > 200) {\n                recommendations.push({\n                    type: 'good',\n                    title: 'High Resolution Display',\n                    description: 'Your high-PPI display allows for closer viewing without pixelation. Great for detailed work!'\n                });\n            } else if (ppi < 100) {\n                recommendations.push({\n                    type: 'warning',\n                    title: 'Low Resolution',\n                    description: 'Consider sitting further back or upgrading to higher resolution to avoid seeing individual pixels.'\n                });\n            }\n            \n            // Duration-based recommendations\n            if (duration === 'extended' || duration === 'long') {\n                recommendations.push({\n                    type: 'warning',\n                    title: 'Extended Use',\n                    description: 'Take regular breaks every 20-30 minutes. Consider a slightly larger distance for reduced eye strain.'\n                });\n            }\n            \n            // Lighting recommendations\n            if (light === 'dim') {\n                recommendations.push({\n                    type: 'warning',\n                    title: 'Low Lighting',\n                    description: 'Add ambient lighting behind the screen to reduce contrast between display and surroundings.'\n                });\n            } else if (light === 'very-bright') {\n                recommendations.push({\n                    type: 'warning',\n                    title: 'Bright Environment',\n                    description: 'Position screen to avoid reflections and consider increasing screen brightness or adding an anti-glare filter.'\n                });\n            }\n            \n            // Use case specific\n            if (useCase === 'gaming') {\n                recommendations.push({\n                    type: 'good',\n                    title: 'Gaming Setup',\n                    description: 'Closer viewing enhances immersion. Ensure your refresh rate and response time are optimized for gaming.'\n                });\n            } else if (useCase === 'photo' || useCase === 'video') {\n                recommendations.push({\n                    type: 'good',\n                    title: 'Creative Work',\n                    description: 'Calibrate your display regularly and ensure consistent lighting conditions for accurate color work.'\n                });\n            }\n            \n            // General health recommendation\n            recommendations.push({\n                type: 'good',\n                title: 'Posture Reminder',\n                description: 'Keep the top of your screen at or below eye level and maintain good posture with feet flat on the floor.'\n            });\n            \n            return recommendations;\n        }\n        \n        function toggleCustomResolution() {\n            const resolution = document.getElementById('resolution').value;\n            const customGroup = document.getElementById('customResGroup');\n            \n            if (resolution === 'custom') {\n                customGroup.style.display = 'block';\n            } else {\n                customGroup.style.display = 'none';\n            }\n        }\n        \n        // Event listeners\n        document.getElementById('screenSize').addEventListener('input', calculateDistance);\n        document.getElementById('resolution').addEventListener('change', () => {\n            toggleCustomResolution();\n            calculateDistance();\n        });\n        document.getElementById('customWidth').addEventListener('input', calculateDistance);\n        document.getElementById('customHeight').addEventListener('input', calculateDistance);\n        document.getElementById('useCase').addEventListener('change', calculateDistance);\n        document.getElementById('eyeCondition').addEventListener('change', calculateDistance);\n        document.getElementById('ambientLight').addEventListener('change', calculateDistance);\n        document.getElementById('sessionDuration').addEventListener('change', calculateDistance);\n        \n        // Initial calculation\n        calculateDistance();\n    </script>\n</body>\n</html>"